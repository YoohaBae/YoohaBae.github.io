<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <!--importing my css-->
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <link rel='stylesheet' href='/stylesheets/blog.css'/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>

    <!--importing jquery-->
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js"></script>
    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
    <!--setting device-->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<section class="blog-page">
    <nav class="navbar">
        <div class="navbar-container">
            <a class="navbar-brand" href="/#top">
                <svg id="레이어_1" data-name="레이어 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 231.3 231.3">
                    <circle cx="115.65" cy="115.65" r="115.15" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="36.49" y1="199.27" x2="115.98" y2="0.79" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="195.29" y1="198.81" x2="115.98" y2="0.79" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="36.15" y1="198.95" x2="36.15" y2="32.34" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="195.29" y1="198.81" x2="195.15" y2="32.34" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="36.63" y1="115.17" x2="195.63" y2="115.16" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="116.13" y1="230.32" x2="115.65" y2="115.34" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="36.15" y1="32.34" x2="115.65" y2="115.34" style="fill:none;stroke-miterlimit:10"/>
                    <line x1="195.15" y1="32.34" x2="115.65" y2="115.34" style="fill:none;stroke-miterlimit:10"/>
                </svg>
            </a>
            <div class="navText-container">
                <a href="/contact" class="navText navTextEnd">CONTACT</a>
                <a href="/projects" class="navText navTextMiddle" id="navCurrent">PROJECTS</a>
                <a href="/timeline" class="navText navTextMiddle">TIMELINE</a>
                <a href="/#About" class="navText navTextMiddle">ABOUT</a>
            </div>
        </div>
    </nav>
    <div class="blog-image">
    </div>
    <div class="blog-container">
        <div class="category-container">
        </div>
        <div class="subtitle">
        </div>
        <div class="title">
        </div>
        <div class="hashtag">
        </div>
        <div class="image-slider">
            <!-- Wrapper -->
            <div class="wrapper">
                <!-- Images Area -->
                <div class="images-area">
                    <img src="https://source.unsplash.com/1" alt="image" class="firstImage">
                    <img src="https://source.unsplash.com/2" alt="image">
                    <img src="https://source.unsplash.com/3" alt="image">
                    <img src="https://source.unsplash.com/4" alt="image">
                    <img src="https://source.unsplash.com/5" alt="image">
                </div>
                <!-- Buttons Area -->
                <div class="buttons-area">
                    <div class="previous-btn">
                        <i class='bx bx-chevron-left'></i>
                    </div>
                    <div class="next-btn">
                        <i class='bx bx-chevron-right'></i>
                    </div>
                </div>
                <!-- Pagination Area -->
                <div class="pagination-area">
                </div>
            </div>
            <!-- End Wrapper -->
        </div>
        <div class="blog-content body1">
        </div>
        <div class="github-link body1 blog-content">
            <h4>Project Links</h4>
            &emsp;Github:
        </div>
    </div>
</section>

<section class="page-end">
    <div class="pageEndText-container">
        <a href="https://linkedin.com/in/yooha-bae-1912b21a3/" target="_blank" class="navText pageEndText">LINKEDIN</a>
        <a href="https://github.com/YoohaBae" target="_blank" class="navText pageEndText">GITHUB</a>
        <a href="mailto: yooha.bae.2@gmail.com" target="_blank" class="navText pageEndText">EMAIL</a>
    </div>
    </div>
</section>

<script>
    $.getJSON("/database/blogs.json", function (data) {
        const id = '<%= blogId %>';
        let blogData = data[id];

        let blogImage = document.getElementsByClassName('blog-image')[0];
        blogImage.style.backgroundImage = "url('https://source.unsplash.com/random')";

        let subtitle = document.getElementsByClassName('subtitle')[0];
        subtitle.innerText = blogData['subtitle'];

        let title = document.getElementsByClassName('title')[0];
        title.innerText = blogData['title'];

        let hashtag = document.getElementsByClassName('hashtag')[0];
        hashtag.innerText = blogData['hashtag'];

        let blogContent = document.getElementsByClassName('blog-content')[0];
        blogContent.innerHTML = blogData['content'];

        let category_container = document.getElementsByClassName('category-container')[0];
        let category = document.createElement('span');
        category.classList.add('category');
        if (blogData['category'] === 'design') {
            category.classList.add('design-category');
            category.innerText = "design";
            category_container.append(category);
        } else if (blogData['category'] === 'coding') {
            category.classList.add('coding-category');
            category.innerText = "coding";
            category_container.append(category);
        } else if (blogData['category'] === 'leadership') {
            category.classList.add('leadership-category');
            category.innerText = "leadership";
            category_container.append(category);
        } else if (blogData['category'] === 'experience') {
            category.classList.add('experience-category');
            category.innerText = "experience";
            category_container.append(category);
        } else if (blogData['category'] === 'other') {
            category.classList.add('other-category');
            category.innerText = "other";
            category_container.append(category);
        }


        // Images Area Images
        let imagesAreaImages = document.querySelectorAll('.images-area img');
// Images Area First Image
        let imagesAreaFirstImage = document.querySelector('.images-area .firstImage');

// Previous And Next Buttons
        let previousBtn = document.querySelector('.previous-btn');
        let nextBtn = document.querySelector('.next-btn');

// Pagination Area
        let paginationArea = document.querySelector('.pagination-area');

// Current Image Count
        let currentImageCount = 1;

// Slider Controler Function
        let sliderController;
// Create Pagination Spans Function
        let createPaginationSpans;

// Every Click On Buttons
        previousBtn.addEventListener('click', previousImage);
        nextBtn.addEventListener('click', nextImage);


// Previous Image Function
        function previousImage() {
            // If The currentImageCount Is 1
            if (currentImageCount === 1) {
                return false;
            } else { // Else
                // Minus One From currentImageCount
                currentImageCount--;
                // Call Function sliderController();
                sliderController();

            }
            ;
        };

// Next Image Function
        function nextImage() {
            // If The currentImageCount Is imagesAreaImages.length
            if (currentImageCount === imagesAreaImages.length) {
                return false;
            } else { // Else
                // Plus One To currentImageCount
                currentImageCount++;
                // Call Function sliderController();
                sliderController();
            }
            ;
        };

// Create Pagination Spans [Circls] Function
        (function createPaginationSpans() {
            // Loop On All The Images Slider
            for (var i = 0; i < imagesAreaImages.length; i++) {
                // Create Span
                let paginationSpan = document.createElement('span');
                // Append The Span
                paginationArea.appendChild(paginationSpan)
            }
            ;
        })();

// Slider Controler Function
        (sliderController = function () {
            // Get All The pagination Spans
            let paginationCircls = document.querySelectorAll('.pagination-area span');

            // Call Remore All Active Class Function
            removeAllActive(paginationCircls);

            // Call Remore Active Button Function
            activeButton();

            // The currentImageCount Minus One
            let currentImageMinusOne = currentImageCount - 1;

            // Set Active Class On Current Pagination
            paginationCircls[currentImageMinusOne].classList.add('active');

            // Move The images Area First Image
            imagesAreaFirstImage.style.marginLeft = `-${80 * currentImageMinusOne}vw`;
        })();

// Remove All Active Class Function
        function removeAllActive(targetElement) {
            for (var i = 0; i < targetElement.length; i++) {
                targetElement[i].classList.remove('active');
            }
            ;
        };

// Check Active Button Function
        function activeButton() {
            // If The Current Image Count Equle 1
            currentImageCount === 1 ?
                // Hide The Previous Button
                previousBtn.classList.add('disabled') :
                // Else: Show The Previous Button
                previousBtn.classList.remove('disabled');

            // If The Current Image Count Equle imagesAreaImages.length
            currentImageCount === imagesAreaImages.length ?
                // Hide The Next Button
                nextBtn.classList.add('disabled') :
                // Else: Show The Next Button
                nextBtn.classList.remove('disabled');
        };

// Move Slider Image Every 3 Second
        setInterval(() => {
            // If The Current Image Count Not Equle imagesAreaImages.length
            if (currentImageCount != imagesAreaImages.length) {
                // Plus One
                currentImageCount++;
                // Call Function sliderController();
                sliderController();
            } else { // else
                // Make currentImageCount Equle 1
                currentImageCount = 1;
                // Call Function sliderController();
                sliderController();
            }
            ;
        }, 3000);

// :)

    })
</script>
</html>